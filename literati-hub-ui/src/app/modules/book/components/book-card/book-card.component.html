<div
  class="max-w-sm mx-auto bg-white rounded-xl shadow-md space-y-4 min-h-96 border-2"
  [ngClass]="{
    'border-green-500': book.shareable,
    'border-yellow-500': book.archived
  }"
>
  <img
    [src]="bookCover"
    class="w-full h-96 object-cover rounded-t-xl"
    alt="Book Cover"
  />
  <div class="px-6 py-4 flex flex-col h-48">
    <div class="font-bold text-xl mb-2 h-48 overflow-hidden">
      {{ book.title }}
    </div>
    <div class="text-gray-600 text-base h-14 overflow-hidden mt-1">
      {{ book.authorName }}
    </div>
    <p class="text-gray-700 text-base h-32 overflow-hidden mt-2">
      {{ book.synopsis }}
    </p>
  </div>
  <div class="px-6 pt-4 pb-2 flex flex-col gap-2">
    <span
      class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mb-2"
      >{{ book.isbn }}</span
    >
    <span
      class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mb-2"
      >{{ book.owner }}</span
    >
    <div class="flex items-center bg-gray-200 rounded-full px-3 py-1">
      <app-rating [rating]="book.rating || 0"></app-rating>
      <span class="font-bold ml-2" *ngIf="(book.rating || 0) > 0">{{
        book.rating
      }}</span>
    </div>
  </div>

  <div class="flex flex-col space-y-2 px-6 py-4" *ngIf="!manage">
    <button
      (click)="onBorrow()"
      class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded w-full"
    >
      Borrow
    </button>
  </div>

  <div class="flex flex-col space-y-2 px-6 py-4" *ngIf="manage">
    <button
      (click)="onEdit()"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full"
    >
      Edit
    </button>
    <button
      (click)="onShare()"
      class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded w-full"
    >
      Share
    </button>
    <button
      (click)="onArchive()"
      class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded w-full"
    >
      Archive
    </button>
  </div>
</div>
